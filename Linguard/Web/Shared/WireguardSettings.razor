@using Linguard.Core.Configuration
@namespace Linguard.Web.Shared

<div>
    <!-- Default endpoint and dns -->
    <div class="row mb-2">
        <div class="col-xxl">
            <div class="row">
                <div class="col">
                    <RadzenLabel class="mb-2" Text="Endpoint"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <RadzenTextBox class="w-100" Value="@Options.Endpoint?.ToString()" 
                                   Placeholder="vpn.example.com" 
                                   ValueChanged="s => Options.Endpoint = new Uri(s, UriKind.RelativeOrAbsolute)"/>
                </div>
            </div>
        </div>
        <div class="col-xxl mb-2">
            <div class="row">
                <div class="col">
                    <RadzenLabel class="mb-2" Text="Primary DNS"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <RadzenTextBox class="w-100" Value="@Options.PrimaryDns?.ToString()" 
                                   Placeholder="dns1.example.com"
                                   ValueChanged="s => Options.PrimaryDns = new Uri(s, UriKind.RelativeOrAbsolute)"/>
                </div>
            </div>
        </div>
        <div class="col-xxl">
            <div class="row">
                <div class="col">
                    <RadzenLabel class="mb-2" Text="Secondary DNS"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <RadzenTextBox class="w-100" Value="@Options.SecondaryDns?.ToString()" 
                                   Placeholder="dns2.example.com"
                                   ValueChanged="s => Options.SecondaryDns = new Uri(s, UriKind.RelativeOrAbsolute)"/>
                </div>
            </div>
        </div>
    </div>
    <!-- Binaries -->
    <div class="row">
        <div class="col-xxl">
            <div class="row">
                <div class="col">
                    <RadzenLabel class="mb-2" Text="Path to wg"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <RadzenTextBox class="w-100" @bind-Value="@Options.WireguardBin" 
                                   Placeholder="/usr/bin/wg"/>
                </div>
            </div>
        </div>
        <div class="col-xxl mb-2">
            <div class="row">
                <div class="col">
                    <RadzenLabel class="mb-2" Text="Path to wg-quick"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <RadzenTextBox class="w-100" @bind-Value="@Options.WireguardQuickBin" 
                                   Placeholder="/usr/bin/wg-quick"/>
                </div>
            </div>
        </div>
        <div class="col-xxl mb-2">
            <div class="row">
                <div class="col">
                    <RadzenLabel class="mb-2" Text="Path to iptables"/>
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <RadzenTextBox class="w-100" @bind-Value="@Options.IptablesBin" 
                                   Placeholder="/usr/sbin/iptables"/>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public IWireguardOptions Options { get; set; }
}